\usepackage[utf8]{inputenc}
\usepackage[T1]{fontenc}
\usepackage{xcolor}
\usepackage{mdframed}
\newmdenv[hidealllines=true,backgroundcolor=red!20]{shaded}


\usepackage{notes}
\usepackage[textsize=tiny]{todonotes}

%page layout
\usepackage{geometry}


%required for math
\usepackage{amsmath}
\usepackage {amssymb}

% graphs
\usepackage{pgfplots}
\pgfplotsset{compat=1.7}
\usepackage{tkz-fct}
\usepackage{tikz}

%colors
\usepackage{color}
\definecolor{dkgreen}{rgb}{0.2,0.6,0}
\definecolor{yellow}{rgb}{1,1,0.8}
\definecolor{mauve}{rgb}{0.58,0,0.82}
\definecolor{red}{rgb}{0.8,0,0}


%hyperlinks
\usepackage{hyperref}
\hypersetup{colorlinks,citecolor=dkgreen,filecolor=dkgreen,linkcolor=dkgreen,urlcolor=black}

%accounting
\usepackage{booktabs}


%comp sci
\usepackage{etoolbox}
\newtoggle{completed}
\togglefalse{completed}

\usepackage{textcomp}
\usepackage{listings}

\lstdefinelanguage{Scheme}{
  morekeywords=[1]{define, define-syntax, define-struct, define-macro, lambda, define-stream, stream-lambda},
  morekeywords=[2]{begin, call-with-current-continuation, call/cc,
    call-with-input-file, call-with-output-file, case, cond,
    do, else, for-each, if,
    let*, let, let-syntax, letrec, letrec-syntax,
    let-values, let*-values,
    and, or, not, delay, force,
    quasiquote, quote, unquote, unquote-splicing,
    map, fold, syntax, syntax-rules, eval, environment, query, string-append, string-length, check-expect, scale, substring,
  first, rest, cons},
  morekeywords=[3]{import, export},
  alsodigit=!\$\%&*+-./:<=>?@^_~,
  sensitive=true,
  morecomment=[l]{;},
  morecomment=[s]{\#|}{|\#},
  morestring=[b]",
  basicstyle=\small\ttfamily,
  keywordstyle=\bf\ttfamily\color[rgb]{0,.3,.7},
  commentstyle=\bf\ttfamily\color[rgb]{0.133,0.545,0.133},
  stringstyle={\color[rgb]{0.75,0.49,0.07}},
  upquote=true,
  breaklines=true,
  breakatwhitespace=true,
  literate=*{`}{{`}}{1}
}


\lstset{frame=tblr,
  basicstyle={\ttfamily},
  numbers=left,
  keywordstyle=\color{blue}\bfseries,
  commentstyle=\color{dkgreen},
  stringstyle=\color{mauve},
  backgroundcolor=\color{yellow},
  showspaces=false,
  showstringspaces=false,
  tabsize=2,
  escapeinside={\%*}{*)}
}

\usepackage{amsthm}
\usepackage{thmtools}

\theoremstyle{definition}

\newtheorem*{note}{Note}
\newtheorem{cor}{Corollary}[section]

\declaretheorem[name=Theorem,
refname={theorem,theorems},
Refname={Theorem,Theorems},
numberwithin=subsection]{thrm}

\declaretheorem[name=Definition,
refname={definition,definitions},
Refname={Definition,Definitions},
numberwithin=section]
{defn}

\declaretheorem[name=Example,
refname={example,examples},
Refname={Example,Example},
numberwithin=section]{exmp}

\declaretheorem[name=Lemma,
refname={lemma,lemmas},
Refname={Lemma,Lemmas},
numberwithin=section]{lem}

\declaretheorem[name=Remark,
refname={remark,remarks},
Refname={Remark,Remarks},
numberwithin=section]{rem}

\newtheorem{exercise}{Exercise}[section]
\newtheorem*{sol}{Solution}
\newtheorem*{asd}{Aside}
\newtheorem*{rto}{Ratio}

\newtheorem*{quotebox}{Quote}


\usepackage{mdframed}

\declaretheorem[name=Method,
refname={definition,definitions},
Refname={Definition,Definitions},
numberwithin=section]{mtd}

\usepackage{environ}

\newenvironment{mthds}
  {\begin{mdframed}\begin{mtd}}
  {\end{mtd}\end{mdframed}}
\NewEnviron{mthd}{\mthds\BODY\endmthds}

\newenvironment{quot}
  {\begin{shaded}\begin{quotebox}}
  {\end{quotebox}\end{shaded}}
\NewEnviron{qte}{\quot\BODY\endquot}
%========================HEADER============================================



\makeatletter
\renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
  \hskip -\arraycolsep
  \let\@ifnextchar\new@ifnextchar
  \array{#1}}
\makeatother


%\renewcommand*{\familydefault}{\sfdefault}
\renewcommand*\rmdefault{ppl}


\usepackage{fancyhdr}
\setlength{\headheight}{15pt}

%right margin should be 0.5. Moved for todo
\geometry{verbose,tmargin=1.0in,bmargin=1.0in,lmargin=0.5in,rmargin=1in}

\pagestyle{fancy}


\renewcommand{\contentsname}{Table of Contents} % Rename toc
%\setcounter{secnumdepth}{0} %Hide section number in header

\newcommand{\noun}[1]{\textsc{#1}} %All caps command


%Stuff at top
\chead{Jeffrey Ying}
\lhead{\curterm}


\newcommand{\notesheader} {
\pagenumbering{roman}
\begin{center}


\textbf{\Huge{\noun{\coursecode}}}{\Huge \par}
{\large{\noun{\coursename}}}\\ \vspace{0.1in}

  {\noun \thisprof} \ $\bullet$ \ {\noun \curterm} \ $\bullet$ \ {\noun {University of Waterloo}} \\

\end{center}


\noindent\rule[0.5ex]{1\columnwidth}{1pt}
\begin{flushright}
\noindent Last Revision: \today
\end{flushright}

%\begin{abstract}
%Yay a working \LaTeX~document!
%\end{abstract}

\tableofcontents{}
\noindent
\rule[0.5ex]{1\columnwidth}{1pt}
\par
\vfill



\nottoggle{completed}{
    \todototoc
    \listoftodos[Future Modifications]
}

\newpage
\pagenumbering{arabic}
  }

\newcommand{\e}{\epsilon}
\newcommand{\f}[2]{\frac{#1}{#2}}
\newcommand{\n}{\vskip 6pt \noindent}

\newcommand{\Z}{{\mathbb{Z}}}
\newcommand{\Q}{{\mathbb{Q}}}
\newcommand{\R}{{\mathbb{R}}}
\newcommand{\C}{{\mathbb{C}}}
\newcommand{\N}{{\mathbb{N}}}
\newcommand{\W}{{\mathbb{W}}}
\newcommand{\V}{{\mathbb{V}}}
\newcommand{\U}{{\mathcal{U}}}

\newcommand{\vb}{\vec{b}}
\newcommand{\ve}{\vec{e}}
\newcommand{\vv}{\vec{v}}
\newcommand{\vu}{\vec{u}}
\newcommand{\vw}{\vec{w}}
\newcommand{\vx}{\vec{x}}
\newcommand{\vy}{\vec{y}}
\newcommand{\vz}{\vec{z}}

\newcommand{\identity}{\begin{bmatrix} 1 & 0 & 0 \\ 0 & 1 & 0 \\ 0 & 0 & 1 \end{bmatrix}}

\newcommand {\spn}{\operatorname{span}}

\makeatletter
\newcommand*{\compress}{\@minipagetrue}
\makeatother

\usepackage{enumitem}