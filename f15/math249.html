<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta http-equiv="Content-Style-Type" content="text/css" />
  <meta name="generator" content="pandoc" />
  <title></title>
  <style type="text/css">code{white-space: pre;}</style>
  <script src="https://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script>
</head>
<body>
<!--Multiset Definiton-->
<p><span class="math display">\[\def\multiset#1#2{\left(\!\left({#1\atopwithdelims..#2}\right)\!\right)}\]</span></p>
<h1 id="math-249">MATH 249</h1>
<p>Combinatorics include enumeration and graph theory.</p>
<h2 id="enumeration">Enumeration</h2>
<p>The <strong>cardinality</strong> of a set <span class="math inline">\(A\)</span>, denoted as <span class="math inline">\(|A|\)</span> is the number of elements it contains if it is finite, or something else if it's infinite.</p>
<p>The <strong>Cartesian power</strong> <span class="math inline">\(A^k\)</span> is the set of all ordered <span class="math inline">\(k\)</span>-tuples of elements from <span class="math inline">\(A\)</span>.</p>
<p><span class="math display">\[A^k:= \{a_1,a_2,\dots,a_k\}: a_1.a_2,\dots,a_k \in A \}\]</span></p>
<p><span class="math inline">\(\lbrack n \rbrack\)</span> is the set of all positive integers from <span class="math inline">\(1\)</span> to <span class="math inline">\(n\)</span>, inclusive. This is represented as <span class="math inline">\(\{1,...,n\},\,\forall n \geq 1\)</span>.</p>
<p>A <span class="math inline">\(k\)</span>-subset of <span class="math inline">\(\lbrack n \rbrack\)</span> is simply a subset of it that contains <span class="math inline">\(k\)</span> elements. For example, there are <span class="math inline">\(6\)</span> <span class="math inline">\(2\)</span>-subsets of <span class="math inline">\(\lbrack 4 \rbrack\)</span>, namely <span class="math inline">\(\{1,2\},\{1,3\},\{1,4\},\{2,3\},\{2,4\},\{3,4\}\)</span>.</p>
<p><strong>Example</strong> The number of <span class="math inline">\(k\)</span>-subsets of <span class="math inline">\(\lbrack n \rbrack\)</span> is <span class="math inline">\(n \choose k\)</span> for <span class="math inline">\(n = 0,1,...,\)</span> and <span class="math inline">\(k=0,1,...,n\)</span></p>
<p><strong>Proof</strong>: Let <span class="math inline">\(x\)</span> be the number of <span class="math inline">\(k\)</span>-subsets of <span class="math inline">\(\lbrack n \rbrack\)</span>. <span class="math inline">\(x\)</span> can be determined indirectly by setting up an equality involving the permutation of <span class="math inline">\(\lbrack n \rbrack\)</span>. For any permutation <span class="math inline">\(a_1...a_n\)</span> and any fixed <span class="math inline">\(k=0,..,n\)</span>, the elements in <span class="math inline">\(a_1,...a_k\)</span> form a <span class="math inline">\(k\)</span>-subset of <span class="math inline">\(\lbrack n \rbrack\)</span>, denoted as <span class="math inline">\(\alpha\)</span>. Then the elements in <span class="math inline">\(a_{k+1},...,a_n\)</span> form the complement, <span class="math inline">\(\bar{alpha}\)</span>, of <span class="math inline">\(\alpha\)</span> with respect to <span class="math inline">\(\lbrack n \rbrack\)</span>. For each fixed <span class="math inline">\(\alpha\)</span>, there are <span class="math inline">\(k!\)</span> choices of <span class="math inline">\(a_1...a_k\)</span> since it is just a permutation of <span class="math inline">\(\alpha\)</span>, and <span class="math inline">\((n-k)!\)</span> choices of <span class="math inline">\(a_{k+1}...a_n\)</span>. Since there are <span class="math inline">\(x\)</span> choices for <span class="math inline">\(\alpha\)</span>, then the number of permutations of <span class="math inline">\(\lbrack n \rbrack\)</span> is</p>
<p><span class="math display">\[k!(n-k)!x = n!\]</span></p>
<p>Rearranging gives <span class="math inline">\(x= {n\choose k}\)</span>.</p>
<h2 id="bijections">Bijections</h2>
<p>A <strong>bijection</strong> is a function that maps a set <span class="math inline">\(S\)</span> to another set <span class="math inline">\(T\)</span>, and is one to one and onto.</p>
<p>One to one means that the function has a unique element of <span class="math inline">\(T\)</span> for every value of <span class="math inline">\(S\)</span>. That is <span class="math inline">\(|T| \geq |S|\)</span>. Onto means that the function has a unique element <span class="math inline">\(S\)</span> for every value of <span class="math inline">\(T\)</span>, and therefore <span class="math inline">\(|S| \geq |T|\)</span>.</p>
<p>Therefore it is a function that maps a set's elements to the elements of another set of the exact same size. It is often easier to prove that a bijection has an inverse rather than proving one to one and onto.</p>
<h3 id="bijection-inverse-theorem">Bijection Inverse Theorem</h3>
<p><strong>Proposition:</strong> a function is a bijection if and only if it has an inverse.</p>
<p>The <strong>inverse</strong> of <span class="math inline">\(f: S \rightarrow T\)</span> is a function <span class="math inline">\(f^{-1}\)</span> such that <span class="math inline">\(\forall x \in S, f^{-1}(f(x)) = x\)</span> and <span class="math inline">\(\forall y \in T, f(f^{-1}(y)) = y\)</span>. It reverses a mapping backwards from <span class="math inline">\(T\)</span> to <span class="math inline">\(S\)</span>.</p>
<h1 id="fun-stuff">Fun stuff</h1>
<h2 id="the-twelve-fold-ways">The Twelve Fold Ways</h2>
<p>How many ways are there to place <span class="math inline">\(k\)</span> balls in <span class="math inline">\(n\)</span> boxes, assuming</p>
<p>Restrictions:</p>
<ol style="list-style-type: decimal">
<li>No restrictions</li>
<li>At most one ball per box</li>
<li>At least one ball per box</li>
</ol>
<p>Distinguishability:</p>
<ul>
<li>A. Balls distinguishable, boxes distinguishable</li>
<li>B. Balls indistinguishable, boxes distinguishable</li>
<li>C. Balls distinguishable, boxes indistinguishable</li>
<li>D. Balls indistinguishable, boxes indistinguishable</li>
</ul>
<p>Each way is a function <span class="math inline">\(f: K \rightarrow N\)</span> where <span class="math inline">\(|K| = k\)</span> and <span class="math inline">\(|N|=n\)</span>.</p>
<p><strong>Restrictions</strong>:</p>
<ol style="list-style-type: decimal">
<li>no restrictions on <span class="math inline">\(f\)</span></li>
<li><span class="math inline">\(f\)</span> is injective</li>
<li><span class="math inline">\(f\)</span> is surjective</li>
</ol>
<p>Distinguishability:</p>
<ul>
<li>A. <span class="math inline">\(f \sim g \iff f = g\)</span></li>
<li>B. $f g $ there is a bijection <span class="math inline">\(\alpha: K \rightarrow K\)</span> such that <span class="math inline">\(f = g \circ a\)</span></li>
<li>C. <span class="math inline">\(f \sim g \iff\)</span> there is a bijection <span class="math inline">\(\beta : N \rightarrow N\)</span> such that <span class="math inline">\(f = b \circ g\)</span></li>
<li>D. <span class="math inline">\(f \sim g \iff\)</span> there is a bijection <span class="math inline">\(\alpha : K \rightarrow K\)</span> and bijection <span class="math inline">\(\beta: N \rightarrow N\)</span> such that <span class="math inline">\(f = \beta \circ g \circ a\)</span></li>
</ul>
<p><strong>Notation:</strong></p>
<p><span class="math display">\[x^{\underline k} = x(x-1)(x-2)\dots(x-k+1)\]</span></p>
<p><span class="math display">\[x^{\bar k} = x(x+1)(x+2)\dots(x+k-1)\]</span></p>
<p><span class="math display">\[k! = k^{\underline k}\]</span></p>
<h2 id="a-no-restrictions-and-balls-and-boxes-are-distinguishable">1A: No restrictions and balls and boxes are distinguishable</h2>
<p><strong>Answer:</strong> <span class="math inline">\(n^k\)</span></p>
<h2 id="a-at-most-one-ball-per-box-balls-and-boxes-distinguishable">2A: At most one ball per box, balls and boxes distinguishable</h2>
<p><strong>Answer:</strong> <span class="math inline">\(\frac{n!}{(n-k)!} = n^{\underline k}\)</span></p>
<h2 id="c-at-most-one-ball-per-box-boxes-indistinguishable.">2C: At most one ball per box, boxes indistinguishable.</h2>
<p><span class="math inline">\(1\)</span> if <span class="math inline">\(k \leq n, 0\)</span> otherwise</p>
<h2 id="d.-at-most-one-ball-per-box-balls-and-boxes-both-indistinguishable">2D. At most one ball per box, balls and boxes both indistinguishable</h2>
<p><span class="math inline">\(1\)</span> if <span class="math inline">\(k \leq n, 0\)</span> otherwise</p>
<h2 id="b.-at-most-one-ball-per-box-balls-indistinguishable.">2B. At most one ball per box, balls indistinguishable.</h2>
<p><strong>Theorem:</strong> <span class="math inline">\(n \choose k\)</span></p>
<p><strong>Proof:</strong> Let <span class="math inline">\(N,K\)</span> be sets with <span class="math inline">\(|N| = n, |K| = k\)</span>. Let <span class="math inline">\(X=\{K \rightarrow N |f \text{ is injective}\}\)</span>. Let <span class="math inline">\(f \sim g\)</span> if there exists a bijection <span class="math inline">\(\alpha: K \rightarrow K\)</span> such that <span class="math inline">\(f = g \circ \alpha\)</span>. Let <span class="math inline">\(Y\)</span> be the set of equivalence classes of the equivalence relation <span class="math inline">\(\sim\)</span>. Then <span class="math inline">\(|Y|\)</span> is the answer to the problem.</p>
<p>We saw <span class="math inline">\(|X| = n^\underline{k}\)</span></p>
<p>Also <span class="math inline">\(|X| = \sum_{C \in Y} |C|\)</span> since <span class="math inline">\(Y\)</span> is a set of disjoint sets whose union <span class="math inline">\(X\)</span></p>
<p>Suppose <span class="math inline">\(C \in Y, g \in C\)</span> Then <span class="math display">\[ C = \{f \in X | f = g \circ \alpha \text{ for some bijection } \alpha: K \rightarrow K\}\]</span> <span class="math display">\[ = \{g \circ \alpha | \alpha: K \rightarrow K \text{ is a bijection}\}\]</span></p>
<p>Since <span class="math inline">\(g\)</span> is injective, <span class="math inline">\(g \circ a = g \circ a&#39; \text{ iff } a = a&#39;\)</span> Therefore <span class="math inline">\(|C| =\)</span> # of bijections <span class="math inline">\(= K \rightarrow K = k!\)</span></p>
<p>Putting it all together</p>
<p><span class="math inline">\(n^\underline{k} = |X| = \sum_{C \in Y} |C| = k!|Y|\)</span></p>
<p><span class="math inline">\(|Y| = \frac{n^\underline{k}}{k!} = {n \choose k}\)</span></p>
<p><strong>Interpretation</strong> If <span class="math inline">\(n,k\)</span> are integers, then <span class="math inline">\(n \choose k\)</span> is the number of <span class="math inline">\(k\)</span>-element subsets of an <span class="math inline">\(n\)</span>-element subset.</p>
<h2 id="b-no-restriction-balls-indistinguishable">1B: No restriction, balls indistinguishable</h2>
<p><strong>Interpretation</strong>: <span class="math inline">\(k\)</span>-element multisets from an <span class="math inline">\(n\)</span>-element set.</p>
<p>Example: If <span class="math inline">\(n=2,k=4\)</span>, there are <span class="math inline">\(5\)</span> <span class="math inline">\(k\)</span>-element multisets from <span class="math inline">\(N={a,b}:\)</span> <span class="math display">\[\{a,a,a,a\},\{a,a,a,b\},\{a,a,b,b\},\{a,b,b,b\},\{b,b,b,b\}\]</span></p>
<p><strong>Notation:</strong> Define <span class="math inline">\(\multiset{n}{k}= \frac{n^\underline{k}}{k!}= {n+k-1 \choose k}\)</span></p>
<p><strong>Theorem</strong>: Answer to 1B is <span class="math inline">\(\multiset{n}{k}\)</span></p>
<p><strong>Proof:</strong> Assume that <span class="math inline">\(N = {1,2,...,n}\)</span>. Let <span class="math inline">\(X\)</span> be the set of <span class="math inline">\(k\)</span>-element multisets from <span class="math inline">\({1,2,...,n}\)</span>. Let <span class="math inline">\(Y\)</span> be the set of <span class="math inline">\(k\)</span>-element subset of <span class="math inline">\({1,2,...,n+k-1}\)</span>. Since we know that <span class="math inline">\(|Y| = {n+k-1 \choose k}\)</span>, we can prove the result by finding a bijection <span class="math inline">\(f: X \rightarrow Y\)</span>.</p>
<p>If <span class="math inline">\(A \in X\)</span>, we can write <span class="math inline">\(A = {a_1,a_2,...,a_k}\)</span>, where <span class="math display">\[a_1 \leq a_2 \leq ... \leq a_k\]</span></p>
<p><span class="math display">\[f(A) = \{a_1,a_2 + 1, a_3 + 2,...,a_k + k -1\}\]</span></p>
<p>Finishing the proof:</p>
<ul>
<li><span class="math inline">\(f(A) \in Y\)</span></li>
<li><span class="math inline">\(f\)</span> is a bijection</li>
</ul>
<h2 id="b.-at-least-one-ball-per-box-balls-indistinguishable">3B. At least one ball per box, balls indistinguishable</h2>
<p><strong>Interpretation</strong>: Compositions of an integer</p>
<p>How many ways are there to write <span class="math display">\[k=c_1 + c_2 + ... + c_n\]</span> where <span class="math inline">\(c_1,...,c_n\)</span> are positive integers.</p>
<p><strong>Idea</strong>: <span class="math inline">\(c_i\)</span> is the number of balls in the i-th box Since there is at least one ball per box, <span class="math inline">\(c_i\)</span> is a positive integer Note: 1B can be interpreted in a similar war.</p>
<h2 id="d-at-least-one-ball-per-box-balls-and-boxes-indistinguishable">3D At Least one ball per box, balls and boxes indistinguishable</h2>
<p><strong>Interpretation</strong>: Partitions of an integer</p>
<p>How many ways are there to write <span class="math display">\[k = c_1 + c_2 + ... + c_n\]</span> where <span class="math inline">\(c_i,...,c_n\)</span> are positive integers and <span class="math inline">\(c_1 \geq ... \geq c_n\)</span></p>
<p><strong>Idea</strong>: <span class="math inline">\(c_1\)</span> is the number of balls in the box with the larger number of balls, and so on. (because balls are indistinguishable)</p>
<p>1D is related to this as well</p>
<h2 id="a-at-least-one-ball-per-box-balls-and-boxes-distinguishable">3A At least one ball per box, balls and boxes distinguishable</h2>
<p><strong>Interpretation</strong>: Surjective functions</p>
<h2 id="c.-at-least-one-ball-per-box-boxes-indistinguishable">3C. At least one ball per box, boxes indistinguishable</h2>
<p><strong>Interpretation:</strong> Set partitions Example: <span class="math inline">\(\{\{1,4\},\{2,5,6\},\{3\},\{7\}\}\)</span> is a partition of <span class="math inline">\(\{1,2,3,4,5,6,7\}\)</span> into four subsets.</p>
<p>1C is related</p>
<h2 id="notation">Notation</h2>
<p><span class="math inline">\(N = Z_{ \geq 0}\)</span> - non negative integers</p>
<h3 id="degenerate-cases">Degenerate cases</h3>
<p><span class="math display">\[x^\underline{0} = x^\bar{0} = 1, 0! = 1, {x \choose 0} = 1\]</span></p>
<p>An empty product (no terms) is always <span class="math inline">\(1\)</span>.</p>
<p>An empty sum (no terms) is always <span class="math inline">\(0\)</span>.</p>
<p><span class="math display">\[\lbrack 0 \rbrack = \{\}\]</span></p>
<p><span class="math display">\[0^0=1\]</span> (indeterminate form)</p>
<p>If <span class="math inline">\(n\)</span> is a negative integer, then <span class="math inline">\(\frac{1}{n!} = 0\)</span>, and <span class="math inline">\({x \choose n} = 0\)</span></p>
<h2 id="combinatorics-vs-algebra">Combinatorics vs Algebra</h2>
<p><strong>Theorem</strong>: <span class="math inline">\({n \choose k} = {n-1 \choose k} + {n-1 \choose k-1}\)</span> for <span class="math inline">\(k,n \in N\)</span></p>
<p><strong>Proof 1</strong>: (Combinatorics), Let <span class="math inline">\(X = \{\)</span> k-elem subsets of <span class="math inline">\(\lbrack n \rbrack\}.\)</span> Let <span class="math inline">\(Y = \{ k\)</span> or <span class="math inline">\((k-1)\)</span> elem. subsets of <span class="math inline">\(\lbrack n-1 \rbrack\}.\)</span> Then LHS = <span class="math inline">\(|X|\)</span> and RHS = <span class="math inline">\(|Y|\)</span>. We prove the identity by giving a bijection between X and Y.</p>
<p>Define <span class="math inline">\(f: X \rightarrow Y\)</span> as follows. Given <span class="math inline">\(A \in X\)</span>, a <span class="math inline">\(k\)</span>-elem subset of <span class="math inline">\(\lbrack n \rbrack\)</span>. Let <span class="math inline">\(f(A) = A \setminus \{n\}\)</span>. Then <span class="math inline">\(f(A) \subseteq \lbrack n-1 \rbrack\)</span> has a <span class="math inline">\(k\)</span> or <span class="math inline">\(k-1\)</span> elements so <span class="math inline">\(f(A) \in Y\)</span>.</p>
<p>Define <span class="math inline">\(g: Y \rightarrow X\)</span> as follows. Given <span class="math inline">\(B \in Y\)</span>, let</p>
<p><span class="math inline">\(g(B) = B\)</span> if <span class="math inline">\(|B| =k\)</span></p>
<p><span class="math inline">\(g(B) = B \cup \{n\}\)</span> if <span class="math inline">\(|B| = k-1\)</span></p>
<p>In either case <span class="math inline">\(|g(B)| = k\)</span>, and <span class="math inline">\(g(B) \subseteq \lbrack n \rbrack\)</span>, so <span class="math inline">\(g(B) \in X\)</span>.</p>
<p>Verify that <span class="math inline">\(g(f(A)) = A\)</span>, for <span class="math inline">\(A \in X\)</span></p>
<p>Case 1: <span class="math inline">\(n \not\in A\)</span>, then <span class="math inline">\(f(A) = A \setminus \{n\} = A\)</span>, and <span class="math inline">\(|f(A)| = k\)</span>, so <span class="math inline">\(g(f(A)) = A\)</span></p>
<p>Case 2: <span class="math inline">\(n \in A\)</span>, then <span class="math inline">\(|f(A)| = k-1\)</span>, so <span class="math inline">\(g(f(A)) = (A \setminus \{n\}) \cup \{n\} = A \cup \{n\} - A\)</span></p>
<p>Verify that <span class="math inline">\(f(g(B)) = B\)</span>, for <span class="math inline">\(B \in Y\)</span> Case 1: <span class="math inline">\(|B| = k\)</span>, then <span class="math inline">\(g(B) = B\)</span>, and <span class="math inline">\(n \not\in B\)</span>, so <span class="math inline">\(f(g(B)) = f(B) = B\)</span></p>
<p>Case 2: <span class="math inline">\(|B| = k-1\)</span>, since <span class="math inline">\(n \not\in B\)</span>, we have <span class="math inline">\(f(g(B)) = (B \cup \{n\}) \setminus \{n\} = B \setminus \{n\} = B\)</span></p>
<p>Thus <span class="math inline">\(f\)</span> and <span class="math inline">\(g\)</span> are mutually inverse bijections, as required.</p>
<p><strong>Proof 2</strong>: (Algebraic). Recall the binomial theorem, which states that for <span class="math inline">\(|x| &lt; 1\)</span>, and <span class="math inline">\(a \in R\)</span>, we have</p>
<p><span class="math display">\[(1+x)^a = \sum_{j \geq 0} {a \choose j}x^j\]</span></p>
<p><strong>Notation</strong>: If <span class="math inline">\(A(x) = \sum_{j \geq a} a_j x^j\)</span>, is a polynomial or power series, then <span class="math inline">\(\lbrack x^k \rbrack A(x) = a_k\)</span>. &quot;The coefficient of <span class="math inline">\(x^k\)</span> in <span class="math inline">\(A(x)\)</span> is <span class="math inline">\(a_k\)</span>&quot;</p>
<p>The binomial theorem can be restated as</p>
<p><span class="math inline">\(\lbrack x^k \rbrack (1+x)^a = {a \choose k}\)</span> for all <span class="math inline">\(k \in N\)</span></p>
<p>Consider <span class="math inline">\((1+x)^{n-1} = \sum_{j \geq 0} {a - 1 \choose j} x^j\)</span></p>
<p>Multiply both sides by <span class="math inline">\((1+x)\)</span></p>
<p><span class="math display">\[(1+x)^n = (1+x) \sum_{j \geq 0} {a - 1 \choose j} x_j\]</span> <span class="math display">\[=\big\lbrack \sum_{k \geq 0} {a - 1 \choose k} x^k \big\rbrack + x \big\lbrack \sum_{j \geq 0} { a - 1 \choose j} x^j \big\rbrack\]</span></p>
<p><span class="math display">\[= \big\lbrack \sum_{k \geq 0} {a-1 \choose k} x^k \big\rbrack + \big\lbrack \sum_{j \geq 0} {a - 1 \choose j} x^{j+1}\big\rbrack\]</span></p>
<p><span class="math display">\[ = \big\lbrack \sum_{k \geq 0} {a - 1 \choose k} x^k \big\rbrack + \big\lbrack \sum_{k \geq 1} {a-1 \choose k-1} x^k \big\rbrack\]</span></p>
<p><span class="math display">\[= \big\lbrack 1+ \sum_{k \geq 1} {a - 1 \choose k} x^k \big\rbrack + \big\lbrack \sum_{k \geq 1} {a - 1 \choose k - 1} x^k \big\rbrack\]</span></p>
<p><span class="math display">\[= 1 + \sum_{ k \geq 1} \big\lbrack{a-1 \choose k} + {a - 1 \choose l - 1} \big\rbrack x^k\]</span></p>
<p>Therefore <span class="math inline">\(\big\lbrack x^k \big\rbrack (1+x)^n = {n - 1 \choose k} + {n - 1 \choose k - 1}\)</span> for <span class="math inline">\(k \geq 1\)</span></p>
<p>But we already saw that <span class="math inline">\(\big\lbrack x^k \big\rbrack = {n \choose k}\)</span>. Therefore <span class="math inline">\(n \choose k\)</span> = <span class="math inline">\({n-1 \choose k} + {n-1 \choose k-1}\)</span> for <span class="math inline">\(k \geq 1\)</span></p>
<p>To finish, check <span class="math inline">\(k = 0\)</span> case.</p>
<p>This works for all <span class="math inline">\(n \in R\)</span> and not just <span class="math inline">\(n \in N\)</span>.</p>
<h2 id="placeholder">Placeholder</h2>
<p>Consider the following:</p>
<p><span class="math inline">\(a - 1 \choose 0\)</span>, <span class="math inline">\(a-1 \choose 1\)</span>, <span class="math inline">\(a-1 \choose 2\)</span>, <span class="math inline">\(a-1 \choose 3\)</span>, <span class="math inline">\(\dots\)</span></p>
<p>Instead, consider the power series</p>
<p><span class="math inline">\(A(x) = {a - 1 \choose 0}\)</span>+ <span class="math inline">\(a-1 \choose 1\)</span> <span class="math inline">\(x\)</span>+ <span class="math inline">\(a-1 \choose 2\)</span> <span class="math inline">\(x^2\)</span>+ <span class="math inline">\(a-1 \choose 3\)</span> <span class="math inline">\(x^3\)</span>+ <span class="math inline">\(\dots\)</span></p>
<p><span class="math inline">\(xA(x) = {a - 1 \choose 0}x\)</span>+ <span class="math inline">\(a-1 \choose 1\)</span> <span class="math inline">\(x^2\)</span>+ <span class="math inline">\(a-1 \choose 2\)</span> <span class="math inline">\(x^3\)</span>+ <span class="math inline">\(a-1 \choose 3\)</span> <span class="math inline">\(x^4\)</span>+ <span class="math inline">\(\dots\)</span></p>
<p><span class="math inline">\(\lbrack x^k \rbrack (A(x)) + xA(x)) = {a-1 \choose k} + {a-1 \choose k - 1} =\)</span> RHS</p>
<p><span class="math inline">\(\lbrack x^k \rbrack (A(x)) + xA(x)) =\)</span> LHS.</p>
<h2 id="variations-on-the-binomial-theorem">Variations on the binomial theorem</h2>
<p><span class="math display">\[(1+x)^a = \sum_{k \geq 0} {a \choose k} x^k,\,a \in R, |x| &lt; 1\]</span></p>
<p><span class="math display">\[(1+x)^n = \sum_{k=0}^n {n \choose k} x^k,\,n \in N\]</span></p>
<p>Sometimes it's easier to do algebraic manipulations with infinite series.</p>
<p><strong>Negative binomial theorem:</strong></p>
<p><span class="math display">\[(1-x)^{-a} = \sum_{k \geq 0} \multiset{a}{k} x^k,\,a \in R, |x| &lt; 1\]</span></p>
<p>Fibonacci Sequence:</p>
<p>Consider the series <span class="math inline">\(F(x) = f_0 + f_1 x + f_2 x^2 + f_3 x^3 + \cdots\)</span></p>
<p>To relate three consecutive terms, consider <span class="math inline">\(F(x), -xF(x), -x^2 F(X)\)</span></p>
<p><span class="math inline">\(F(x) = f_0 + f_1 x + f_2 x^2 + f_3 x^3 + f_4 x^4\cdots\)</span></p>
<p><span class="math inline">\(-xF(x) = -f_0 x + -f_1 x^2 + -f_2 x^3 + -f_3 x^4 + \cdots\)</span></p>
<p><span class="math inline">\(-x^2F(x) = -f_0x^2 + -f_1 x^3 + -f_2 x^4 + \cdots\)</span></p>
<p>Summing both sides:</p>
<p><span class="math display">\[F(x) - xF(x) - x^2F(x) = x\]</span></p>
<p><span class="math display">\[F(x) = \frac{x}{1-x-x^2}\]</span></p>
<p>Partial fractions: <span class="math inline">\(1 - x - x^2 = (1-\frac{1 + \sqrt{5}}{2} x)(1- \frac{1-\sqrt 5}{2} x)\)</span></p>
<p><span class="math display">\[F(x) = \frac{A}{(1-\frac{1 + \sqrt{5}}{2} x)} + \frac{B}{(1- \frac{1-\sqrt 5}{2} x)}\]</span></p>
<p><span class="math inline">\(A = \frac{1}{\sqrt 5}\)</span>, <span class="math inline">\(B= - \frac{1}{\sqrt 5}\)</span></p>
<p>Geometric series formula</p>
<p><span class="math display">\[F(x) = \sum_{n \geq 0} \frac{1}{\sqrt 5} \Big(\frac{1 + \sqrt 5}{2}\Big)^n x^n - \sum_{n \geq 0} \frac{1}{\sqrt 5} \Big(\frac{1 - \sqrt{5}}{2}\Big)^n x^n\]</span></p>
<p><span class="math display">\[f_n = \lbrack x^n \rbrack F(x) = \frac{1}{\sqrt 5} \Big(\frac{1 + \sqrt 5}{2}\Big)^n - \Big(\frac{1 - \sqrt 5}{2}\Big)^n\]</span></p>
<h2 id="lattice-paths">Lattice Paths</h2>
<p>A lattice path of length <span class="math inline">\(r\)</span> is a sequence <span class="math inline">\(P_0,P_1,\dots,P_r \in Z^2 \subset R^2\)</span> of points in the plane such that <span class="math inline">\(P_i - P_{i-1} \in \{(0,1),(1,0)\}\)</span>.</p>
<p><strong>Theorem:</strong> The number of lattice paths from <span class="math inline">\((0,0)\)</span> to <span class="math inline">\((m,n)\)</span> is <span class="math inline">\(m + n \choose n\)</span>.</p>
<p><strong>Proof:</strong> Each path is represented by a string <span class="math inline">\(s_1s_2\dots s_{m+n}\)</span> with <span class="math inline">\(m\)</span> E's and <span class="math inline">\(n\)</span> N's. Let <span class="math inline">\(\alpha = \{i \in \lbrack m + n \rbrack | s_i = E\}\)</span>. Then <span class="math inline">\(\alpha\)</span> is an <span class="math inline">\(m\)</span>-element subset of <span class="math inline">\(\lbrack m + n \rbrack\)</span>.</p>
<p>Verify that this defines a bijection between our lattice paths and <span class="math inline">\(m\)</span>-elements subsets of <span class="math inline">\(\lbrack m + n \rbrack\)</span>.</p>
<h2 id="dyck-paths">Dyck Paths</h2>
<p>A <strong>Dyck</strong> path or Catalan path is a lattice path <span class="math inline">\(P_0,P_1,\dots,P_{2n}, n \in N\)</span>, from <span class="math inline">\((0,0)\)</span> to <span class="math inline">\((n,n)\)</span> with the property that <span class="math inline">\(P_i = (x_1,y_i)\)</span>, where <span class="math inline">\(x_i \leq y_i\)</span>.</p>
<p>Path is entirely on or above the line <span class="math inline">\(y=x\)</span>. Endpoints on the line.</p>
<p>The trivial path <span class="math inline">\(P_0 = (0,0)\)</span> is a Dyck path (of length <span class="math inline">\(0\)</span>).</p>
<p>Another interpretation is using N as left brackets and E as right brackets. The brackets are always balanced and will never have a right bracket as the first element in the set.</p>
<p><strong>Theorem:</strong> The number of Dyck paths of length <span class="math inline">\(2n\)</span> is <span class="math inline">\(\frac{1}{n+1}{2n \choose n}\)</span>.</p>
<p>The numbers <span class="math inline">\(\frac{1}{n+1}{2n \choose n}\)</span>,<span class="math inline">\(n \in N\)</span> are called the Catalan numbers.</p>
<p><strong>Outline of proof</strong></p>
<ol style="list-style-type: decimal">
<li>Combinatorial argument. Let <span class="math inline">\(c_n\)</span> be the number of Dyck paths of length <span class="math inline">\(2n\)</span>. Obtain a recurrence relation.</li>
<li>Algebraic formulation. Consider the series <span class="math inline">\(C(x) = \sum_{m \geq 0} c_n x^n\)</span>. Convert the recurrence relation into an algebraic equation involving <span class="math inline">\(C(x)\)</span>.</li>
<li>Algebraic extraction. Perform algebraic manipulations on <span class="math inline">\(C(x)\)</span> to compute <span class="math inline">\(c_n\)</span>.</li>
</ol>
<p><strong>Complete proof:</strong></p>
<p>Consider a Dyck path <span class="math inline">\(\pi\)</span> of length <span class="math inline">\(2n, n \geq 1\)</span>. The first step must be N. <span class="math inline">\(\pi\)</span> must end on the line <span class="math inline">\(y=x\)</span>. Consider the first time <span class="math inline">\(\pi\)</span> returns to the line <span class="math inline">\(y=x\)</span>. Suppose this is after <span class="math inline">\(2k+2\)</span> steps. Then the <span class="math inline">\((2k+2)^{th}\)</span> step of <span class="math inline">\(\pi\)</span> is E. Let <span class="math inline">\(\pi &#39;\)</span> be the first path of the path before returning to the <span class="math inline">\(y=x\)</span> line, and <span class="math inline">\(\pi &#39;&#39;\)</span> be the second part after returning to the <span class="math inline">\(y=x\)</span> line. Write <span class="math inline">\(\pi=N\pi &#39; E \pi &#39;&#39;\)</span>, where <span class="math inline">\(\pi &#39;\)</span> has length <span class="math inline">\(2k\)</span>,<span class="math inline">\(\pi &#39;&#39;\)</span> has length <span class="math inline">\(2(n-k-1)\)</span></p>
<p><span class="math inline">\(\pi &#39;\)</span> starts and ends on the line <span class="math inline">\(y=x+1\)</span>, and never goes below.</p>
<p><span class="math inline">\(\pi &#39;&#39;\)</span> starts and ends on the line <span class="math inline">\(y=x\)</span>, and never goes below.</p>
<p>Hence we have decomposed <span class="math inline">\(\pi = N \pi &#39; E \pi &#39;&#39;\)</span> where <span class="math inline">\(\pi &#39;, \pi &#39;&#39;\)</span> are Dyck paths. This decomposition is unique.</p>
<p>There are <span class="math inline">\(c_k\)</span> possibilities for <span class="math inline">\(\pi &#39;\)</span>, and <span class="math inline">\(c_{n-k-1}\)</span> possibilities for <span class="math inline">\(\pi &#39;&#39;\)</span>. Summing over all possibilities for <span class="math inline">\(k\)</span>, we obtain the recurrence</p>
<p><span class="math display">\[c_n = \sum_{k=0}^{n-1} c_k c_{n-k-1}, \text{ for } n \geq 1\]</span>.</p>
<ol start="2" style="list-style-type: decimal">
<li>Consider the series <span class="math inline">\(C(x) = \sum_{m \geq 0} c_n x^n\)</span>.</li>
</ol>
<p><strong>Claim</strong>: <span class="math inline">\(xC(x)^2 - C(x) + 1 = 0\)</span></p>
<p><strong>Proof of Claim:</strong></p>
<p>Let <span class="math inline">\(n = j + k + 1\)</span></p>
<p><span class="math display">\[ \begin{align}
xC(x)^2 &amp;= x\left(\sum_{j \geq 0} c_j x^j\right)\left(\sum_{k \geq 0} c_k x^k\right) = \sum_{j \geq 0} \sum_{k \geq 0} c_j c_k x^{j+k+1} \\
&amp;=\sum_{n \geq 1} \left(\sum_{k = 0} c_k c_{n-k-1}\right) x^n = \sum_{n \geq 1} c_n x^n \\
&amp;= C(x) - 1
\end{align}\]</span></p>
<ol start="3" style="list-style-type: decimal">
<li>Use the quadratic formula to solve for <span class="math inline">\(C(x)\)</span></li>
</ol>
<p><span class="math display">\[C(x) = \frac{1 \pm \sqrt{1-4x}}{2x} = \frac{1 \pm (1 - 4x)^{\frac 1 2}}{2x}\]</span></p>
<p>Use the binomial theorem to expand <span class="math inline">\((1-4x)^{1/2}\)</span></p>
<p><span class="math display">\[(1-4x)^{1/2} = 1 + \sum_{k \geq 1} {1/2 \choose k} (-4)^k x^k\]</span></p>
<p><span class="math display">\[\begin{align} {1/2 \choose k} (-4)^k &amp;= \frac{\frac 1 2 -\frac 1 2 -\frac 3 2 ...(-\frac{2k-3}{2})}{k!} \cdot (-1)^k \cdot 2^k \cdot 2^k \\
&amp;= - \frac{1 \cdot 3 \cdot 5 \cdots (2k-3)}{k!} \cdot 2^k \\
&amp;= - \frac{1 \cdot 3 \cdot 5 \cdots (2k-3)}{k!} \cdot \frac{2 \cdot 4 \cdot 6 \cdots (2k-2)}{(k-1)!} \cdot 2 \\
&amp;= - \frac{(2k-2)!}{k!(k-1)!} \cdot 2 = - \frac{2}{k} {2k - 2 \choose k - 1} \end{align}\]</span></p>
<p><span class="math display">\[C(x) = \frac{1 \pm (1 - \sum_{k \geq 1} \frac{2}{k}{2k-2 \choose k-1} x^k)}{2x}\]</span></p>
<p><span class="math display">\[= \frac{1}{2x} \pm \left(\frac{1}{2x} - \sum_{k \geq 1} \frac{1}{k} {2k-2 \choose k - 1} x^{k-1}\right)\]</span></p>
<p>The <span class="math inline">\(+\)</span> solution cannot be correct since it gives <span class="math inline">\(\frac{1}{x}\)</span> in <span class="math inline">\(C(x)\)</span>. Therefore the <span class="math inline">\(-\)</span> solution is correct.</p>
<p><span class="math display">\[= \sum_{k \geq 1} \frac{1}{k} {2k-2 \choose k - 1} x^{k-1} = \sum_{n \geq 0} \frac{1}{n+1} {2n \choose n} x^n\]</span></p>
<p>Therefore <span class="math inline">\(c_n = \frac{1}{n+1} {2n \choose n}\)</span>.</p>
<h2 id="combinatorial-proofs">Combinatorial Proofs</h2>
<p><strong>Theorem</strong>: The number of Dyck paths of length <span class="math inline">\(2n\)</span> is <span class="math inline">\(\frac{1}{n+1} {2n \choose n}\)</span>.</p>
<p><strong>Combinatorial Proof:</strong> Let <span class="math inline">\(D_n\)</span> be the set of Dyck paths of length <span class="math inline">\(2n\)</span> and let <span class="math inline">\(P_n\)</span> be the set of all lattice paths from <span class="math inline">\((0,0)\)</span> to <span class="math inline">\((n,n)\)</span>. We give a bijection <span class="math inline">\(f: P_n \rightarrow D_n \times \lbrack n + 1 \rbrack\)</span>.</p>
<p><span class="math inline">\(s_0 s_1 ... s_{2n-2} s_{2n-1}\)</span></p>
<p><span class="math inline">\(s_1 s_2 ... s_{2n-2} s_{2n-1} s_2n\)</span></p>
<p><span class="math inline">\(s_2 s_3... s_{2n-1} s_2n s_0\)</span></p>
<p><span class="math inline">\(\vdots\)</span></p>
<p><span class="math inline">\(s_{2n} s_0 \cdots s_{2n-3} s_{2n-2}\)</span></p>
<p>Cross out all paths that aren't in <span class="math inline">\(P_n\)</span> to get a list of <span class="math inline">\(n + 1\)</span> paths.</p>
<p><strong>Claim:</strong> Exactly one path <span class="math inline">\(\pi\)</span> on this list is a Dyck path. If <span class="math inline">\(\pi\)</span> is the <span class="math inline">\(k^{th}\)</span> path on the list, let <span class="math inline">\(f(s_1 s_2 ... s_{2n}) = (\pi,k)\)</span>.</p>
<p>From <span class="math inline">\((\pi,k)\)</span>, the path can be cyclically shifted to obtain a path in <span class="math inline">\(P_n\)</span>.</p>
<p><strong>Example:</strong> For the path <span class="math inline">\(NNEENNE\)</span>, the list is</p>
<p>NNEENN, NEENNE, EENNEN, ENNENN, NNENNE, <strong>NENNEE</strong>, ENNEEN</p>
<p>so <span class="math inline">\(f(NEENNE) = (NNENEE,3)\)</span>.</p>
<p>Each path in the list is a substring of <span class="math inline">\(NNEENNENNEEN\)</span>.</p>
<table>
<tbody>
<tr class="odd">
<td align="left">Reach Gouden's notes for complete proof</td>
</tr>
</tbody>
</table>
<p><strong>Theorem:</strong> For <span class="math inline">\(0 \leq a \leq b\)</span>, the number of lattice paths from <span class="math inline">\((0,0)\)</span> to <span class="math inline">\((a,b)\)</span> that are entirely on or above the line <span class="math inline">\(y=x\)</span> is</p>
<p><span class="math display">\[{a + b \choose a} - {a + b \choose a - 1}\]</span></p>
<p><strong>Combinatorial Proof</strong>: Let <span class="math inline">\(X\)</span> be the set of lattice paths from <span class="math inline">\((0,0)\)</span> to <span class="math inline">\((A,b)\)</span> that have at least one point strictly below the line <span class="math inline">\(y=x\)</span>. If we can show that <span class="math inline">\(|X| = {a + b \choose a - 1}\)</span>, we'll be done. To do this, let <span class="math inline">\(Y\)</span> be the set of lattice paths from <span class="math inline">\((1,-1)\)</span> to <span class="math inline">\((a,b)\)</span>. We give a bijection between <span class="math inline">\(X\)</span> and <span class="math inline">\(Y\)</span>.</p>
<p>Let <span class="math inline">\(s_1s_2 \cdots s_{a+b} \in X\)</span>. Since <span class="math inline">\(X\)</span> has at least one point below the line <span class="math inline">\(y=x\)</span>, there must be at least one point on the line <span class="math inline">\(y=x-1\)</span>. Suppose the first such point is after <span class="math inline">\(2k-1\)</span> steps. Define <span class="math display">\[f(s_1 s_2 \cdots s_{a+b}) = \bar{s_1} \bar{s_2} \cdots \bar{s_{2k-1}} s_{2k} \cdots s_{a+b}\]</span> where the bar means <span class="math inline">\(\bar{s_{i}} = N\)</span> if <span class="math inline">\(s_i = E\)</span>, and vice versa.</p>
<p><strong>Exercise:</strong> Show that this is a bijection.</p>
<h2 id="framework-for-generating-functions">Framework for Generating Functions</h2>
<p><strong>Ingredients:</strong></p>
<ul>
<li>A set <span class="math inline">\(S\)</span> of &quot;combinatorial objects&quot;.</li>
<li>A function <span class="math inline">\(w: S \rightarrow N\)</span> called the weight function. For <span class="math inline">\(\sigma \in S\)</span>, <span class="math inline">\(w(\sigma)\)</span> is called the weight of <span class="math inline">\(\sigma\)</span></li>
</ul>
<p>General counting problem: for <span class="math inline">\(n \in N\)</span>, determine the number of objects in <span class="math inline">\(S\)</span> that have weight <span class="math inline">\(n\)</span>.</p>
<p>For example: Determine <span class="math inline">\(\# \{\sigma \in S | w(\sigma) = n \}\)</span>.</p>
<p><strong>Note:</strong> The <span class="math inline">\(\#\)</span> represents cardinality <span class="math inline">\(|S|\)</span>.</p>
<p>A weight function is good if the answer is finite numbers for all <span class="math inline">\(n\)</span>.</p>
<p><strong>Strategy</strong>: Show (almost) every counting problem we encounter into this framework.</p>
<p><strong>Example:</strong> Fix <span class="math inline">\(m \in N\)</span>. Let <span class="math inline">\(S_m = \{0,1\}^m\)</span>, the set of binary strings of length <span class="math inline">\(m\)</span>. IF <span class="math inline">\(\sigma \in S_m\)</span>, define the weight of <span class="math inline">\(\sigma\)</span> to be the number of <span class="math inline">\(1\)</span>'s in <span class="math inline">\(\sigma.\)</span></p>
<p>Counting problem becomes: Determine the number of binary strings of length <span class="math inline">\(m\)</span> that have <span class="math inline">\(n\)</span> ones. (Answer: <span class="math inline">\(m \choose n\)</span>)</p>
<p><strong>Example 2:</strong> Let <span class="math inline">\(T\)</span> be the set of all Dyck paths. If <span class="math inline">\(\pi \in T\)</span>, define the weight <span class="math inline">\(\pi\)</span> to be the number of <span class="math inline">\(n\)</span> steps in <span class="math inline">\(\pi\)</span>.</p>
<p>Counting problem becomes: Determine the number of Dyck paths of length <span class="math inline">\(2n\)</span>. (Answer: <span class="math inline">\(\frac{1}{n+1}{2n \choose n}\)</span>)</p>
<p>General solution: Define the generating function for <span class="math inline">\(S\)</span> with respect to <span class="math inline">\(w\)</span> to be the power series</p>
<p><span class="math display">\[\phi_S(x) = \sum_{\phi \in S} x^{w(\sigma)}\]</span></p>
<p><strong>Proposition:</strong> The nanswer to the counting problem is <span class="math inline">\(\lbrack x^n \rbrack \phi_S(x)\)</span>.</p>
<p>Example: <span class="math inline">\(\#\{\sigma \in S | w(\sigma) = n \} = \lbrack x^n \rbrack \phi_S(x)\)</span>.</p>
<p><strong>Proof:</strong></p>
<p><span class="math display">\[\lbrack x^n \rbrack \phi_S(x) = \lbrack x^n \rbrack \sum_{\sigma \in S} x^{w(\sigma)} = \lbrack x^n \rbrack \sum_{k \geq 0} \sum_{\sigma \in S , w(\sigma) = k} x^{w(\sigma)}\]</span></p>
<p><span class="math display">\[i= \lbrack x^n \rbrack \sum_{ k \geq 0} \left(\sum_{\sigma \in S , w(\sigma)=n} x^k \right) =\sum_{\sigma \in S, w(\sigma) = n} 1 = \#\{\sigma \in S | w(\sigma) = k\}\]</span></p>
<p><strong>Example 1:</strong> Fix <span class="math inline">\(m \in N\)</span>. Let <span class="math inline">\(S_m = \{0,1\}^m\)</span>, the set of binary strings of length <span class="math inline">\(m\)</span>. IF <span class="math inline">\(\sigma \in S_m\)</span>, define the weight of <span class="math inline">\(\sigma\)</span> to be the number of <span class="math inline">\(1\)</span>'s in <span class="math inline">\(\sigma.\)</span></p>
<p>Generating function:</p>
<p><span class="math display">\[\phi_{S_m}(x) = \sum_{n = 0}^m {m \choose n} x^n = (1+x)^n\]</span></p>
<p><strong>Example 2:</strong> Let <span class="math inline">\(T\)</span> be the set of all Dyck paths. If <span class="math inline">\(\pi \in T\)</span>, define the weight <span class="math inline">\(\pi\)</span> to be the number of <span class="math inline">\(n\)</span> steps in <span class="math inline">\(\pi\)</span>.</p>
<p>Generating function:</p>
<p><span class="math display">\[\phi_S(x) = \sum_{n=0}^\infty \frac{1}{n+1} {2n \choose n} x^n = \frac{1 - \sqrt{1 - 4x}}{2x}\]</span></p>
<h2 id="the-sum-lemma">The sum lemma</h2>
<p><strong>Sum Lemma:</strong> Let <span class="math inline">\(S\)</span> be a set with a weight function <span class="math inline">\(w\)</span>, and <span class="math inline">\(A \cup B = S\)</span>, then</p>
<p><span class="math display">\[\phi_S(x) = \phi_A(x) + \phi_B(x) - \phi_{A \cap B}(x)\]</span></p>
<p><strong>Proof:</strong> For a subset <span class="math inline">\(A \subset S\)</span>, let <span class="math inline">\(Z: S \rightarrow Z\)</span> be the indicator function</p>
<p>$Z() = 1 $ if <span class="math inline">\(\sigma \in A\)</span>, <span class="math inline">\(0\)</span> if <span class="math inline">\(\sigma \not\in A\)</span></p>
<p>Then <span class="math inline">\(Z_A(\sigma) + Z_B(\sigma) - Z_{a \cap B}(\sigma) = 1\)</span> for all <span class="math inline">\(\sigma \in S\)</span>, so</p>
<p><span class="math display">\[\phi_A(x) + \phi_B(x) - \phi_{A \cap B} (x)\]</span></p>
<p><span class="math display">\[= \sum_{\sigma \in S} Z_A(\sigma)x^{w(\sigma)} + \sum_{\sigma \in S} Z_B(\sigma) x^{w(\sigma)} - \sum_{\sigma \in S} Z_{A \cap B} (\sigma)x^{w(\sigma)}\]</span></p>
<p>Sum lemma is most commonly used in case where <span class="math inline">\(A \cap B = \emptyset\)</span>, in which case <span class="math inline">\(\phi_{A\cap B} (x) = 0\)</span>.</p>
<p><strong>Generalization:</strong> If <span class="math inline">\(S\)</span> is a set with a weight function <span class="math inline">\(w\)</span>, and <span class="math inline">\(S = U_i A_i, A_i \cap A_j = \emptyset\)</span> for <span class="math inline">\(i \neq j\)</span>, then</p>
<p><span class="math display">\[\phi_S(x) = \sum_i \phi_{A_i}(x)\]</span></p>
<h2 id="the-product-lemma">The Product Lemma</h2>
<p><strong>Example:</strong></p>
<p>Problem A. You have 5 loonies and 3 toonies. How many ways to make $ 7?</p>
<p>Make a table of all possibilities using the dollar amounts. x 0 1 2 3 4 5 0 0 1 2 3 4 5 2 2 3 4 5 6 <em>7</em> 4 4 5 6 <em>7</em> 8 9 6 6 <em>7</em> 8 9 10 11</p>
<p>There are three ways to make $ 7.</p>
<p>Problem B. Compute <span class="math inline">\(\lbrack x^7 \rbrack(1+x+x^2+x^3+x^4+x^5)(1+x^2+x^4+x^6)\)</span></p>
<p>Solution: Multiply each pair of possible terms and draw out a table</p>
<p>Answer: <span class="math inline">\(\lbrack x^7 \rbrack(1+x+x^2+x^3+x^4+x^5)(1+x^2+x^4+x^6) = 3\)</span></p>
<p><strong>Product Lemma:</strong></p>
<p>Sets <span class="math inline">\(A,B\)</span>, <span class="math inline">\(\alpha\)</span> weight function on <span class="math inline">\(A\)</span>, <span class="math inline">\(\beta\)</span> weight function on <span class="math inline">\(B\)</span>. <span class="math inline">\(w\)</span> weight function on <span class="math inline">\(A \times B\)</span>. <span class="math inline">\(\gamma \in Z\)</span></p>
<p><span class="math inline">\(w(a,b) = \alpha(A) \beta(B) \in A \times B\)</span></p>
<p><span class="math inline">\(\phi_{A \times B}(x) = x^{\gamma} \phi_A(x) \phi B(x)\)</span></p>
<p><strong>Proof:</strong> <span class="math inline">\(\phi_{A \times B}(x) = \sum_{(a,b) \in A \times B} x^{w(a,b)}\)</span></p>
<p><span class="math display">\[\sum_{a \in A} \sum_{b \in B} x^{\alpha(A) + \beta(B) + \gamma}\]</span></p>
<p><span class="math display">\[= x^\gamma \left(\sum_{a \in A} x^{\alpha(a)} x^{\beta(b)}\right)\]</span></p>
<p><span class="math display">\[w(a_1,\dots,a_i) = \alpha_i(a_i) + \gamma, \qquad \forall (a,b) \in A \times B\]</span></p>
<p>then</p>
<p><span class="math display">\[\phi_{A_1 x \dots A_k x}(x) =x^\gamma \prod_{i=1}^k \phi_{A_i}(x)\]</span></p>
<h2 id="compositions-of-an-integer">Compositions of an Integer</h2>
<p>Problem: <span class="math inline">\(n,k \in N\)</span>. Determine the number of <span class="math inline">\((c_1,\dots, c_k) \in N\)</span> such that <span class="math inline">\(c_1 + c_2 + \cdots + c_k = n\)</span></p>
<p><span class="math inline">\(N^k = N\times N \cdots \times N\)</span></p>
<p>Set of objects: <span class="math inline">\(N^k\)</span></p>
<p>Weight function: <span class="math inline">\(w: N^k \rightarrow N\)</span></p>
<p><span class="math display">\[w(c_1,\dots,c_k) = c_1 + \cdots + c_k\]</span></p>
<p>Define <span class="math inline">\(\gamma: N \rightarrow N\)</span> weight function</p>
<p><span class="math inline">\(\alpha(i) = i\)</span></p>
<p>Then <span class="math inline">\(w(a_1, \dots, a_i) = \sum_{i=1}^k \alpha(a_i)\)</span></p>
<p>Then <span class="math inline">\(\phi_N(x) = 1 + x + x^2 + \cdots = (1-x)^{-1}\)</span></p>
<p>Answer = <span class="math inline">\(\lbrack x^n \rbrack \phi_N (x) = \lbrack x^n \rbrack (1-x)^{-k} = \multiset{k}{n} = \multiset{n+k-1}{n}\)</span></p>
<p>A composition of <span class="math inline">\(n\)</span> with <span class="math inline">\(k\)</span> parts is a <span class="math inline">\(k\)</span>-tuple, <span class="math inline">\((c_1,\dots,c_k) = (N \geq 1)^k\)</span> such that <span class="math inline">\(c_1 + c_2 + \cdots + c_k = n\)</span></p>
<ul>
<li><span class="math inline">\(c_1,\dots,c_k\)</span> are called the parts</li>
<li>There is a unique composition of <span class="math inline">\(0\)</span>, it has <span class="math inline">\(0\)</span> parts.</li>
</ul>
<table>
<colgroup>
<col width="62%" />
</colgroup>
<tbody>
<tr class="odd">
<td align="left">Problem: Determine the number of compositions in <span class="math inline">\(n\)</span> with <span class="math inline">\(k\)</span> parts.</td>
</tr>
<tr class="even">
<td align="left">Set of objects: <span class="math inline">\((N \geq 1)^k\)</span></td>
</tr>
<tr class="odd">
<td align="left">Weight function: <span class="math inline">\(w: (N \geq 1) \rightarrow N\)</span></td>
</tr>
</tbody>
</table>
<p>Consider <span class="math inline">\(1+1+1 \cdots + 1) = n\)</span></p>
<p>Change <span class="math inline">\(k-1\)</span> plus signs into <span class="math inline">\(,\)</span></p>
<hr />
<p>Determine all compositions of <span class="math inline">\(n\)</span> with an even number of parts.</p>
<p>Solution: Let <span class="math inline">\(S\)</span> be the set of all compositions with even number parts, and</p>
<p>Define the weight of a composition to be the sm of its parts.</p>
<p>Let <span class="math inline">\(N_{\text{odd}}\)</span> represent the set of all odd numbers.</p>
<p>Then <span class="math inline">\(S = (N_{\text{odd}})^0 \cup (N_{\text{odd}})^2 \cup (N_{\text{odd}})^4 \cup \dots\)</span></p>
<p><span class="math inline">\(= \bigcup_{k=0}^n (N_{\text{odd}^{2k}})\)</span></p>
<p><span class="math inline">\(\phi_S(x) = \sum_{k=0}^n \phi_{N_{\text{odd}}^{2k}}(x)\)</span></p>
<p>$=<em>{N</em>{odd}}</p>
<p>=$</p>
<p><span class="math inline">\(= \lbrack x^n \rbrack \frac{1}{1-x^2(1-x^2)^{-2}}\)</span></p>
<hr />
<p>If <span class="math inline">\(S\)</span> is a finite set, <span class="math inline">\(\phi_S(x)\)</span> is a polynomial</p>
<p>If <span class="math inline">\(S\)</span> is an infinite set, then <span class="math inline">\(\phi_S (x)\)</span> is a power series.</p>
<p>In some problems the radius of convergence could be <span class="math inline">\(0\)</span>. In some problems <span class="math inline">\(\phi_S &#39; (p)\)</span> for <span class="math inline">\(p \in \lbrack 0,1)\)</span> computes an expected value.</p>
<h2 id="formal-power-series">Formal Power Series</h2>
<p>Construct a framework to work with power series without worrying about the radius of convergence.</p>
<p>Redefine everything that doesn't include the traditional concept of a limit.</p>
<p><span class="math display">\[A(x) = \sum_{n \geq 0} a_n x^n = a_0 + a_1 x + a_2 x^2 + \cdots\]</span></p>
<p>where <span class="math inline">\(a_0,a_1,\dots\)</span> are real n umbers</p>
<p>The difference is in the interpretation and allowable operations.</p>
<p><span class="math inline">\(R\lbrack \lbrack x \rbrack \rbrack\)</span> denotes the set of formal power series with real coefficients. This a commutative ring returning</p>
<p><span class="math inline">\(A(X) = \sum_{n \geq 0} a_n x^n \qquad B(x) = \sum_{n \geq 0} b_n x^n\)</span></p>
<p>Addition</p>
<p><span class="math inline">\(A_(x) + b(x) = \sum_{n \geq 0} (a_n + b_n) x^n\)</span></p>
<p>Multiplication</p>
<p><span class="math inline">\(A(x)B(X) = \sum_{n \geq 0} \left( \sum_{k=0}^n a_k b_{n-k}\right) x^n\)</span></p>
<p>Additive and multiplicative identities</p>
<p><span class="math inline">\(0 = \sum_{n \geq 0} 0x^n \qquad 1 = 1 + \sum_{n \geq 1} 0 x^n\)</span></p>
<p>Other operations:</p>
<p>Coefficient extraction:</p>
<p><span class="math inline">\(\lbrack x^n \rbrack A(x) = a_n\)</span></p>
<p>Scalar multiplication:</p>
<p><span class="math inline">\(cA(x) = \sum_{N \geq 0} (cA_n) x^n, c \in R\)</span></p>
<p>Formal derivative (satisfies usual derivative rules):</p>
<p><span class="math display">\[\frac{d}{dx} A(x) = \sum_{n \geq 0} na_n x^{n-1} = \sum_{n \geq 0} (n + 1) a_{n+1} x^n\]</span></p>
<p>Formal integral, satisfies usual anti derivative rules:</p>
<p><span class="math display">\[ I_A A(x) = \sum_{n \geq 0} \frac{a_n}{n+1} x^{n+1} = \sum_{n \geq 1} \frac{a_{n-1}}{n} x^n\]</span></p>
<p>Sometimes we can substitute. Two cases where <span class="math inline">\(A(B(x))\)</span> is allowed.</p>
<ol style="list-style-type: decimal">
<li>If <span class="math inline">\(A(x) = \sum_{m=0}^d a_n x^n\)</span> is a polynomial of degree <span class="math inline">\(d\)</span>, then we an define</li>
</ol>
<p><span class="math display">\[A(B(x)) = \sum_{n = 0}^d a_n B(x)^n\]</span></p>
<p>...which makes sense because we only need to perform finitely many basic operations.</p>
<ol start="2" style="list-style-type: decimal">
<li>If <span class="math inline">\(\lbrack x^0 \rbrack B(x) = 0\)</span>, then define</li>
</ol>
<p><span class="math display">\[A(B(x)) = \sum_{n \geq 0} a_n B(x)^n\]</span></p>
<p>Key point: IF we want to know <span class="math inline">\(\lbrack x^m \rbrack A(B(x))\)</span>, then <span class="math inline">\(B(x)^n\)</span> won't contribute for <span class="math inline">\(n &gt; m\)</span>, so <span class="math inline">\(\lbrack x^m \rbrack A(B(x)) = \lbrack x_m \rbrack \sum_{n=0}^m a_n B(x)^n\)</span>. Can pretend <span class="math inline">\(A(x)\)</span> is a polynomial.</p>
<p>In all other cases <span class="math inline">\(A(B(x))\)</span> is not defined. Can't substitute numbers.</p>
<p><strong>Theorem:</strong> <span class="math inline">\(A(X) \in R\lbrack \lbrack x \rbrack \rbrack\)</span> has a multiplicative inverse iff <span class="math inline">\(\lbrack x^0 \rbrack A(x) \neq 0\)</span></p>
<p><strong>Proof:</strong> First suppose <span class="math inline">\(\lbrack x^n \rbrack A(x) = 0\)</span>. Then <span class="math inline">\(\lbrack x^0 \rbrack A(x) B(x) = 0\)</span> for any <span class="math inline">\(B(x)\)</span>, so we can't have <span class="math inline">\(A(x) B(x) = 1\)</span>.</p>
<p>Now suppose <span class="math inline">\(\lbrack x^0 \rbrack A(x) = a_0 \neq 0\)</span>. Let <span class="math inline">\(f(x) = a_0 - x\)</span>. This has a multiplicative inverse <span class="math inline">\(g(x) = \sum_{n \geq 0} a_0^{-n-1} x^n\)</span>, ie</p>
<p><span class="math inline">\(f(x)g(x) = 1\)</span></p>
<p>Let <span class="math inline">\(B(x) = a_n - A(x)\)</span>. Since <span class="math inline">\(\lbrack x^0 \rbrack B(x) = 0\)</span>, we can substitute <span class="math inline">\(B(x)\)</span> into the equation above to get</p>
<p><span class="math display">\[f(B(x))g(B(x)) = 1\]</span></p>
<p>But <span class="math inline">\(f(g(x)) = A(x)\)</span> so <span class="math inline">\(g(B(x)) = A(x)^{-1}\)</span></p>
<h2 id="catalan-numbers-again">Catalan Numbers (again)</h2>
<p>From Dyck paths, where does the equation <span class="math inline">\(xC(x)^2 - C(x) + 1 = 0\)</span>?</p>
<p>Let <span class="math inline">\(S\)</span> be the set of all Dyck paths, with weight function <span class="math inline">\(w: S \rightarrow N\)</span>, <span class="math inline">\(w(\pi)\)</span> is the number of <span class="math inline">\(N\)</span> steps in <span class="math inline">\(\pi\)</span>. Then <span class="math inline">\(C(x) = \phi_S(x)\)</span></p>
<p>The combinatorial decomposition argument shows that there is a bijection</p>
<p><span class="math inline">\(S \times S \rightarrow S \setminus \{\varepsilon\} \qquad (\pi &#39;,\pi &#39;&#39;) \rightarrow N\pi &#39; E\pi &#39;&#39;\)</span>$</p>
<p>where <span class="math inline">\(\varepsilon\)</span> denotes the trivial path of length <span class="math inline">\(0\)</span>.</p>
<p>This suggests we should define a weight function <span class="math inline">\(W\)</span> on <span class="math inline">\(S \times S\)</span></p>
<p><span class="math display">\[W(\pi&#39;,\pi&#39;&#39;) = w(N\pi &#39; E\pi &#39;&#39;)\]</span></p>
<p>Then from the bijection, we have</p>
<p><span class="math inline">\(\phi_{S \times S} (x) - \sum_{S \times S} x^{W(\pi &#39;,\pi &#39;&#39;)} = \sum_{\pi \in S \setminus \{\varepsilon\}} x^{w(\pi)} = C(x) - 1\)</span></p>
<p>On the other hand, <span class="math inline">\(W(\pi &#39;, \pi &#39;&#39;)=w(\pi &#39;) + w(\pi &#39;&#39;) + 1\)</span>, so we can use the product lemma to obtain</p>
<p><span class="math inline">\(\phi_{S \times S}(x) = x\phi_S(x)^2 = xC(x)^2\)</span></p>
<p>Putting these together gives <span class="math inline">\(xC(x)^2 = C(x) - 1\)</span></p>
<h3 id="steps-for-using-generating-functions">Steps for using Generating Functions</h3>
<ul>
<li>Introduce the objects you want to consider, and the weight function (its solution will solve the initial problem)</li>
<li>Find bijection or decomposition of set</li>
<li>Define weight functions on any new sets</li>
<li>Check that the weight of a composite object should be the sum of its weights (to use the product lemma)</li>
<li>Write corresponding generating function equations</li>
<li>Solve (Algebra)</li>
</ul>
<h2 id="the-crazy-dice-problem">The crazy dice Problem</h2>
<p>If you have an ordinary pair of 6 sided dice, the probabilities of rolling any given total can be determined by drawing a table.</p>
<p><strong>Problem:</strong> Is it possible to replace the numbers on the dice with different positive integers, without affecting this probability table?</p>
<p>Let <span class="math inline">\(S\)</span> be the set of sides of an ordinary 6 sided die. Define the weight of <span class="math inline">\(\pi \in S\)</span> be the number written on the side <span class="math inline">\(\pi\)</span>. Then</p>
<p><span class="math inline">\(\phi_S(x) = x + x^2 + x^3 + x^4 + x^5 + x^6\)</span></p>
<p>The set of possible ways to roll a pair of ordinary dice is <span class="math inline">\(S \times S\)</span>. Define the weight to be the total of the two numbers rolled. Then <span class="math inline">\(\phi_{S \times S}(x) = \phi_S(x)^2\)</span>. This generating fuction tells us how many ways here are to roll each total, and hence determines the probability table.</p>
<p>Now suppose <span class="math inline">\(A,B\)</span> are the set of sides of two crazy dice, and the weight is the number written on the side. (eg 1,2,4,4,4,9) results in <span class="math inline">\(\phi_S(x) = x+x^2 + 3x^4 + x^9\)</span></p>
<p>In this case, the generating function for rolling the pair is <span class="math inline">\(\phi_A(x) \phi_B(x)\)</span>, and this determines the probability table. Therefore, what we're trying to achieve is <span class="math inline">\(\phi_A(x) \phi_B(x) = \phi_S(x)^2\)</span></p>
<p>Now factor <span class="math inline">\(\phi_S(x)^2\)</span> and redistribute the factors.</p>
<p><span class="math inline">\(\phi_S(x) = x(x+1)(x^2 + x + 1)(x^2 - x + 1)\)</span></p>
<p>Now since all our dice are 6 sided. <span class="math inline">\(\phi_A(1) = \phi_B(1) = 6\)</span>. This means that we need a factor of <span class="math inline">\((x+1)(x^2 + x + 1)\)</span> in both <span class="math inline">\(\phi_A(x)\)</span> and <span class="math inline">\(\phi_B(x)\)</span>. Since the numbers on each die must be positive integers, we need a factor of <span class="math inline">\(x\)</span> in both. Therefore the only possibility to try Inverse</p>
<p><span class="math inline">\(\phi_A(x) = x(x+1)(x^2+x+1) = x + 2x^2 + 2x^3 + x^4\)</span></p>
<p><span class="math inline">\(\phi_B(x) = x(x+1)(x^2+x+1)(x^2-x+1)^2 = x + x^3 + x^4 + x^5 + x^6 + x^8\)</span></p>
<p>Crazy dice exists. The first die has sides <span class="math inline">\(1,2,2,3,3,4\)</span> and second die has sides <span class="math inline">\(1,3,4,5,6,8\)</span>.</p>
<h2 id="cyclotomic-polynomials">Cyclotomic polynomials</h2>
<p>How did I factor <span class="math inline">\(\phi_S(x)\)</span>? Using the finite geometric series formula, <span class="math inline">\(\phi_S(x) =x(x^6-1)/(x-1)\)</span>.</p>
<p><strong>Theorem:</strong> There exists polynomials <span class="math inline">\(\phi_B(X) \in Z\lbrack x \rbrack, n \geq 1\)</span>, called the cyclotomic polynomials satisfying</p>
<ul>
<li><span class="math inline">\(x^n - 1 = \prod_{d/n} \phi_d(x)\)</span></li>
<li><span class="math inline">\(\phi_B(x) = \prod_{d/n} (x^d - 1)^{\mu(n/d)}\)</span>, where <span class="math inline">\(\mu(.)\)</span> is the Mobius function</li>
<li><span class="math inline">\(\phi_n(x) = \prod_{0 &lt; k &lt; n, gcd(k,n)=1} (x-e^{2\pi(k/n)})\)</span> in <span class="math inline">\(C\lbrack x \rbrack\)</span></li>
</ul>
<p><strong>Sketch of Proof:</strong> Use iii as definition. Check that i holds; by Mobius inversion, so does ii. iii shows that <span class="math inline">\(\phi_n(x) \in C\lbrack x \rbrack\)</span>, and ii shows that <span class="math inline">\(\phi_n(x)\)</span> is a ratio of moonic polynomials in <span class="math inline">\(Z\lbrack x \rbrack\)</span>. Together, these imply <span class="math inline">\(\phi_n(x) \in Z\lbrack x \rbrack\)</span></p>
<h2 id="partitions-of-an-integer">Partitions of an Integer</h2>
<p>A partition of <span class="math inline">\(n\)</span> with <span class="math inline">\(k\)</span> parts is a <span class="math inline">\(k\)</span>-tuple <span class="math inline">\(\lambda = (\lambda_1,\dots,\lambda_) \in (N_{\geq 1})^k\)</span>, of positive integers such that</p>
<p><span class="math inline">\(\lambda_1 \geq \lambda_2 \geq \cdots \geq \lambda_k\)</span></p>
<p>and</p>
<p><span class="math inline">\(\lambda_1 + \lambda_2 + \cdots + \lambda_k = n\)</span></p>
<p>A partition is a composition in which the parts are in weakly decreasing order.</p>
<p><span class="math inline">\(n\)</span> is called the size of <span class="math inline">\(\lambda\)</span>; we write <span class="math inline">\(\|\lambda| = n\)</span>, or <span class="math inline">\(\lambda \vdash n\)</span>. <span class="math inline">\(k\)</span> is called the length of <span class="math inline">\(\lambda\)</span>, we write <span class="math inline">\(l(\lambda)=k\)</span></p>
<p><strong>Problem:</strong> For <span class="math inline">\(m,n\in N\)</span>, determine the number of partitions of <span class="math inline">\(n\)</span>, in which all parts are <span class="math inline">\(\leq m\)</span>.</p>
<p><strong>Solution:</strong> Let <span class="math inline">\(P_m\)</span> denote the set of all partitions in which all parts are <span class="math inline">\(\geq m\)</span>. Define the weight of a partition to be its size:</p>
<p><span class="math inline">\(w(\lambda) = \lambda_1 + \lambda_2 + \cdots + \lambda_k\)</span></p>
<p>Let <span class="math inline">\(S_m = N \times 2N \times 3N \cdots \times mN\)</span>, with weight function</p>
<p><span class="math inline">\(w:S_n \rightarrow N\)</span>, <span class="math inline">\(w(c_1,\dots,c_m) = c_1 + c_2 + \cdots + c_m\)</span></p>
<p>We give a bijection <span class="math inline">\(\phi:P_{\lambda_i \leq m} \rightarrow S_m\)</span>. If <span class="math inline">\(\lambda = (\lambda_1,\dots,\lambda_k) \in P_m\)</span> define <span class="math inline">\(\phi(\lambda) = (c_1,\dots,c_m)\)</span> where</p>
<p><span class="math inline">\(c_i = \sum_{j \in \lbrack k \rbrack, \lambda_j=i} \lambda_j\)</span></p>
<p>Inverse map: <span class="math inline">\(c_i\)</span> is the number of parts equal to <span class="math inline">\(i\)</span> in <span class="math inline">\(\lambda\)</span>.</p>
<p>Example <span class="math inline">\(m=7,\lambda=(6,6,6,3,2,2), \phi(\lambda) = 0,4,3,0,0,18,0)\)</span></p>
<p>Note that <span class="math inline">\(w(\lambda) = w(\phi(\lambda))\)</span>. <span class="math inline">\(\phi\)</span> is a weight preserving bijection, therefore <span class="math inline">\(\phi_{P_m}(x) = \phi_{S_m} (x)\)</span></p>
<p>To compare a <span class="math inline">\(\phi_{S_m} (x)\)</span>, define a weight function <span class="math inline">\(\alpha_i: iN \rightarrow N\)</span>, <span class="math inline">\(\alpha_i(c) = c\)</span>. Then</p>
<p><span class="math inline">\(w(c_1,\dots,c_m) = \alpha_1(c_1) + \cdots + a_m (c_m)\)</span></p>
<p>so we can use the product lemma.</p>
<p><span class="math display">\[\phi_{S_m}(x) = \prod_{i=1}^m \phi_{iN}(x) = \prod_{i=1}^m (1-x^i)^{-1}\]</span></p>
<p>Therefore the number of partitions of <span class="math inline">\(n\)</span> with all parts <span class="math inline">\(\leq m\)</span> is</p>
<p><span class="math display">\[\lbrack x^n \rbrack \prod_{i=1}^m (1-x^i)^{-1}\]</span></p>
<p>There is no sensible way to simplify this answer.</p>
<p><strong>Problem 2:</strong> For <span class="math inline">\(m,n \in N\)</span>, determine the number of partitions of <span class="math inline">\(n\)</span>, with length <span class="math inline">\(\leq m\)</span>.</p>
<p><strong>Solution:</strong> Let <span class="math inline">\(S_m &#39;\)</span> be the set of partitions with length <span class="math inline">\(\leq m\)</span>. The weight of a partition is its size.</p>
<p>The ferrers diagram of <span class="math inline">\(\lambda\)</span> is a left justified array of boxes, with <span class="math inline">\(\lambda_j\)</span> boxes in row<span class="math inline">\(j,j \in \lbrack k \rbrack\)</span></p>
<p>Eg: <span class="math inline">\(\lambda=6632\)</span></p>
<pre><code>XXXXXX
XXXXXX
XXX
XX</code></pre>
<p>The size of <span class="math inline">\(\lambda\)</span> is the number of boxes. The length of <span class="math inline">\(\lambda\)</span> is the number of rows.</p>
<p>In the previous problem, we defined a bijection between <span class="math inline">\(P_m\)</span> and <span class="math inline">\(S_m\)</span> in terms of the Ferrers diagram, <span class="math inline">\(c_i = i \cdot\)</span> #(rows of length <span class="math inline">\(i\)</span>). Works because diagram has at most <span class="math inline">\(m\)</span> columns.</p>
<p>In this problem, we use columns of Ferrers diagram instead. Define a bijection between <span class="math inline">\(P_m&#39;\)</span> and <span class="math inline">\(S_m: c_i = i \cdot\)</span> #(columns of length <span class="math inline">\(i\)</span>). Works because diagram has at most <span class="math inline">\(m\)</span> rows.</p>
<p>Conclusion: Problem 2 has the same answer as Problem 1.</p>
</body>
</html>
